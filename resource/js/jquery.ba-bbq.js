!function(e,a){"$:nomunge";function T(e){return"string"==typeof e}function L(e){var a=i.call(arguments,1);return function(){return e.apply(this,a.concat(i.call(arguments)))}}function R(e){return e.replace(/^[^#]*#?(.*)$/,"$1")}function F(e){return e.replace(/(?:^[^?#]*\?([^#]*).*$)?.*/,"$1")}function S(i,s,c,l,d){var m,f,h,p,v;return l!==t?(h=c.match(i?/^([^#]*)\#?(.*)$/:/^([^#?]*)\??([^#]*)(#?.*)/),v=h[3]||"",2===d&&T(l)?f=l.replace(i?w:_,""):(p=n(h[2]),l=T(l)?n[i?g:u](l):l,f=2===d?l:1===d?e.extend({},l,p):e.extend({},p,l),f=o(f),i&&(f=f.replace(C,r))),m=h[1]+(i?"#":f||!h[1]?"?":"")+f+v):m=s(c!==t?c:a[b][y]),m}function M(e,a,i){return a===t||"boolean"==typeof a?(i=a,a=o[e?g:u]()):a=T(a)?a.replace(e?w:_,""):a,n(a,i)}function B(a,i,r,s){return T(r)||"object"==typeof r||(s=r,r=i,i=t),this.each(function(){var t=e(this),n=i||f()[(this.nodeName||"").toLowerCase()]||"",c=n&&t.attr(n)||"";t.attr(n,o[a](c,r,s))})}var t,s,n,c,d,m,f,C,i=Array.prototype.slice,r=decodeURIComponent,o=e.param,l=e.bbq=e.bbq||{},h=e.event.special,p="hashchange",u="querystring",g="fragment",v="elemUrlAttr",b="location",y="href",k="src",_=/^.*\?|#.*$/g,w=/^.*\#/,x={};o[u]=L(S,0,F),o[g]=s=L(S,1,R),s.noEscape=function(a){a=a||"";var t=e.map(a.split(""),encodeURIComponent);C=new RegExp(t.join("|"),"g")},s.noEscape(",/"),e.deparam=n=function(a,i){var o={},s={"true":!0,"false":!1,"null":null};return e.each(a.replace(/\+/g," ").split("&"),function(a,n){var d,c=n.split("="),l=r(c[0]),m=o,f=0,h=l.split("]["),p=h.length-1;if(/\[/.test(h[0])&&/\]$/.test(h[p])?(h[p]=h[p].replace(/\]$/,""),h=h.shift().split("[").concat(h),p=h.length-1):p=0,2===c.length)if(d=r(c[1]),i&&(d=d&&!isNaN(d)?+d:"undefined"===d?t:s[d]!==t?s[d]:d),p)for(;p>=f;f++)l=""===h[f]?m.length:h[f],m=m[l]=p>f?m[l]||(h[f+1]&&isNaN(h[f+1])?{}:[]):d;else e.isArray(o[l])?o[l].push(d):o[l]=o[l]!==t?[o[l],d]:d;else l&&(o[l]=i?t:"")}),o},n[u]=L(M,0),n[g]=c=L(M,1),e[v]||(e[v]=function(a){return e.extend(x,a)})({a:y,base:y,iframe:k,img:k,input:k,form:"action",link:y,script:k}),f=e[v],e.fn[u]=L(B,u),e.fn[g]=L(B,g),l.pushState=d=function(e,i){T(e)&&/^#/.test(e)&&i===t&&(i=2);var r=e!==t,o=s(a[b][y],r?e:{},r?i:2);a[b][y]=o+(/#/.test(o)?"":"#")},l.getState=m=function(e,a){return e===t||"boolean"==typeof e?c(e):c(a)[e]},l.removeState=function(a){var i={};a!==t&&(i=m(),e.each(e.isArray(a)?a:arguments,function(e,a){delete i[a]})),d(i,2)},h[p]=e.extend(h[p],{add:function(a){function r(e){var a=e[g]=s();e.getState=function(e,i){return e===t||"boolean"==typeof e?n(a,e):n(a,i)[e]},i.apply(this,arguments)}var i;return e.isFunction(a)?(i=a,r):(i=a.handler,void(a.handler=r))}})}(jQuery,this),function(e,a,t){"$:nomunge";function f(e){return e=e||a[o][n],e.replace(/^[^#]*#?(.*)$/,"$1")}var i,r=e.event.special,o="location",s="hashchange",n="href",c=e.browser,l=document.documentMode,d=c.msie&&(l===t||8>l),m="on"+s in a&&!d;e[s+"Delay"]=100,r[s]=e.extend(r[s],{setup:function(){return m?!1:void e(i.start)},teardown:function(){return m?!1:void e(i.stop)}}),i=function(){function m(){c=l=function(e){return e},d&&(r=e('<iframe src="javascript:0"/>').hide().insertAfter("body")[0].contentWindow,l=function(){return f(r.document[o][n])},(c=function(e,a){if(e!==a){var t=r.document;t.open().close(),t[o].hash="#"+e}})(f()))}var i,r,c,l,t={};return t.start=function(){if(!i){var t=f();c||m(),function r(){var d=f(),m=l(t);d!==t?(c(t=d,m),e(a).trigger(s)):m!==t&&(a[o][n]=a[o][n].replace(/#.*/,"")+"#"+m),i=setTimeout(r,e[s+"Delay"])}()}},t.stop=function(){r||(i&&clearTimeout(i),i=0)},t}()}(jQuery,this);